import{M as f}from"./ModalReceiptPreview.8df52c7e.js";import{d as b,r as i,c as D,u as w,i as y,D as m,_ as M,a as r,b as e,j as _,v as h,F as V,e as S,g,h as k,o as c,t as d,p as N,k as R}from"./index.76ef20d6.js";import"./Modal.402bdf30.js";const A=b({components:{ModalReceiptPreview:f},setup(){const u=y("datastore"),t=i([]);u.receipt.getReceipts(void 0,void 0).then(n=>{t.value=n});const p=D(()=>t.value.map(n=>({...n,date:n.date.toFormat("dd/MM/yyyy")}))),s=i(),E=i();async function v(){t.value=await u.receipt.getReceipts(s.value?m.fromISO(s.value):void 0,E.value?m.fromISO(E.value):void 0)}const a=w({requestNum:0,receipt:void 0});function o(n){a.receipt=t.value[n],a.requestNum++}return{receiptsTableData:p,startDate:s,endDate:E,onSearch:v,modalView:a,openModalView:o}}});const l=u=>(N("data-v-9f8ebcd3"),u=u(),R(),u),I=l(()=>e("h2",null,"\u0E14\u0E39\u0E43\u0E1A\u0E40\u0E2A\u0E23\u0E47\u0E08\u0E23\u0E31\u0E1A\u0E40\u0E07\u0E34\u0E19",-1)),T={class:"d-flex"},$=l(()=>e("label",null,"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E40\u0E23\u0E34\u0E48\u0E21\u0E15\u0E49\u0E19 : ",-1)),q=l(()=>e("label",null,"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E2A\u0E34\u0E49\u0E19\u0E2A\u0E38\u0E14 : ",-1)),C=l(()=>e("br",null,null,-1)),B=l(()=>e("br",null,null,-1)),F=l(()=>e("thead",null,[e("tr",null,[e("th",{width:"10%"},"No."),e("th",null,"\u0E40\u0E25\u0E02\u0E17\u0E35\u0E48\u0E40\u0E2D\u0E01\u0E2A\u0E32\u0E23"),e("th",null,"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48"),e("th",null,"Grand Total"),e("th",{class:"text-center",width:"20%"},"\u0E14\u0E33\u0E40\u0E19\u0E34\u0E19\u0E01\u0E32\u0E23")])],-1)),P={class:"text-center"},j=["onClick"];function O(u,t,p,s,E,v){const a=k("ModalReceiptPreview");return c(),r("div",null,[I,e("div",T,[e("div",null,[$,_(e("input",{type:"date","onUpdate:modelValue":t[0]||(t[0]=o=>u.startDate=o)},null,512),[[h,u.startDate]])]),e("div",null,[q,_(e("input",{type:"date","onUpdate:modelValue":t[1]||(t[1]=o=>u.endDate=o)},null,512),[[h,u.endDate]])]),e("div",null,[e("button",{onClick:t[2]||(t[2]=o=>u.onSearch())},"\u0E04\u0E49\u0E19\u0E2B\u0E32")])]),C,B,e("table",null,[F,e("tbody",null,[(c(!0),r(V,null,S(u.receiptsTableData,(o,n)=>(c(),r("tr",{key:n},[e("td",null,d(n+1),1),e("td",null,d(o.docNo),1),e("td",null,d(o.date),1),e("td",null,d(o.grandTotal),1),e("td",P,[e("button",{onClick:U=>u.openModalView(n)},"\u0E14\u0E39\u0E23\u0E32\u0E22\u0E25\u0E30\u0E40\u0E2D\u0E35\u0E22\u0E14",8,j)])]))),128))])]),g(a,{"request-num":u.modalView.requestNum,receipt:u.modalView.receipt},null,8,["request-num","receipt"])])}const H=M(A,[["render",O],["__scopeId","data-v-9f8ebcd3"]]);export{H as default};

import{M as g}from"./Modal.402bdf30.js";import{d as k,r,c as v,i as y,_ as C,a as c,b as t,F as I,e as S,n as p,f as B,t as m,g as M,w as $,h as N,o as f,j as V,v as j,p as F,k as H}from"./index.76ef20d6.js";const T=k({components:{Modal:g},setup(){const e=y("datastore"),n=r([]);e.unit.getAllUnits().then(o=>{n.value=o});const l=r(),b=v(()=>l.value||l.value===0?n.value[l.value]:{name:"-"}),d=r({name:""}),i=r(!1),E=r("");function u(){d.value={name:""},E.value="\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E2B\u0E19\u0E48\u0E27\u0E22\u0E19\u0E31\u0E1A",i.value=!0}function s(){d.value={...n.value[l.value]},E.value="\u0E41\u0E01\u0E49\u0E44\u0E02\u0E2B\u0E19\u0E48\u0E27\u0E22\u0E19\u0E31\u0E1A",i.value=!0}function h(){e==null||e.unit.editUnit(d.value).then(async()=>{n.value=await e.unit.getAllUnits(),i.value=!1}).catch(o=>alert(o))}function _(){e==null||e.unit.deleteUnit(n.value[l.value].id).then(async()=>{const o=await e.unit.getAllUnits();l.value=void 0,n.value=o}).catch(o=>alert(o))}const D=v(()=>!l.value&&l.value!==0||l.value===0);function A(){D.value||l.value--}const w=v(()=>!l.value&&l.value!==0||l.value===n.value.length-1);function U(){w.value||l.value++}return{units:n,selectedIndex:l,selectedUnit:b,formData:d,modalState:i,modalHeading:E,openAdd:u,openEdit:s,onSubmit:h,onDelete:_,prevDisabled:D,prev:A,nextDisabled:w,next:U}}});const a=e=>(F("data-v-e44f9f2b"),e=e(),H(),e),z=a(()=>t("h2",null,"\u0E15\u0E31\u0E49\u0E07\u0E04\u0E48\u0E32\u0E2B\u0E19\u0E48\u0E27\u0E22\u0E19\u0E31\u0E1A",-1)),L={class:"row"},q={class:"col"},G=a(()=>t("thead",null,[t("tr",null,[t("th",{width:"10%"},"No."),t("th",null,"\u0E0A\u0E37\u0E48\u0E2D")])],-1)),J=["onClick"],K={class:"col"},O={class:"row"},P={class:"card col-10"},Q=a(()=>t("h3",null,"Unit detail",-1)),R=a(()=>t("b",null,"\u0E0A\u0E37\u0E48\u0E2D\u0E2B\u0E19\u0E48\u0E27\u0E22",-1)),W={class:"d-flex"},X=["disabled"],Y=["disabled"],Z=a(()=>t("label",null,"\u0E0A\u0E37\u0E48\u0E2D\u0E2B\u0E19\u0E48\u0E27\u0E22",-1)),x=a(()=>t("br",null,null,-1));function ee(e,n,l,b,d,i){const E=N("Modal");return f(),c("div",null,[z,t("div",L,[t("div",q,[t("button",{type:"button",class:"add-button",onClick:n[0]||(n[0]=(...u)=>e.openAdd&&e.openAdd(...u))},"\u0E40\u0E1E\u0E34\u0E48\u0E21"),t("table",null,[G,t("tbody",null,[(f(!0),c(I,null,S(e.units,(u,s)=>(f(),c("tr",{key:s,class:p({"text-primary":e.selectedIndex===s}),onClick:h=>e.selectedIndex=s},[t("td",null,m(s+1),1),t("td",null,m(u.name),1)],10,J))),128))])])]),t("div",K,[t("div",O,[t("h1",{class:p(["col-1 arrow",{disabled:e.prevDisabled}]),onClick:n[1]||(n[1]=(...u)=>e.prev&&e.prev(...u))},"<",2),t("div",P,[Q,R,B(" "+m(e.selectedUnit.name)+" ",1),t("div",W,[t("button",{disabled:!e.selectedIndex&&e.selectedIndex!==0,onClick:n[2]||(n[2]=(...u)=>e.openEdit&&e.openEdit(...u))},"\u0E41\u0E01\u0E49\u0E44\u0E02",8,X),t("button",{disabled:!e.selectedIndex&&e.selectedIndex!==0,onClick:n[3]||(n[3]=(...u)=>e.onDelete&&e.onDelete(...u))},"\u0E25\u0E1A",8,Y)])]),t("h1",{class:p(["col-1 arrow",{disabled:e.nextDisabled}]),onClick:n[4]||(n[4]=(...u)=>e.next&&e.next(...u))},">",2)])])]),M(E,{shown:e.modalState,"onUpdate:shown":n[6]||(n[6]=u=>e.modalState=u),heading:e.modalHeading,onSave:e.onSubmit},{body:$(()=>[Z,x,V(t("input",{type:"text","onUpdate:modelValue":n[5]||(n[5]=u=>e.formData.name=u),autocomplete:"off"},null,512),[[j,e.formData.name]])]),_:1},8,["shown","heading","onSave"])])}const ue=C(T,[["render",ee],["__scopeId","data-v-e44f9f2b"]]);export{ue as default};

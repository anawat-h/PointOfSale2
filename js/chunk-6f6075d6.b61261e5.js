(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f6075d6"],{"4dd0":function(e,t,n){"use strict";n("5450")},5450:function(e,t,n){},c294:function(e,t,n){"use strict";n.r(t);n("b0c0");var c=n("7a23"),a=function(e){return Object(c["w"])("data-v-29913c6a"),e=e(),Object(c["u"])(),e},l=a((function(){return Object(c["f"])("h2",null,"ตั้งค่าหน่วยนับ",-1)})),u={class:"row"},o={class:"col"},r=a((function(){return Object(c["f"])("thead",null,[Object(c["f"])("tr",null,[Object(c["f"])("th",{width:"10%"},"No."),Object(c["f"])("th",null,"ชื่อ")])],-1)})),i=["onClick"],b={class:"col"},d={class:"row"},s={class:"card col-10"},f=a((function(){return Object(c["f"])("h3",null,"Unit detail",-1)})),j=a((function(){return Object(c["f"])("b",null,"ชื่อหน่วย",-1)})),O={class:"d-flex"},v=["disabled"],p=["disabled"],h=a((function(){return Object(c["f"])("label",null,"ชื่อหน่วย",-1)})),m=a((function(){return Object(c["f"])("br",null,null,-1)}));function w(e,t,n,a,w,x){var y=Object(c["B"])("Modal");return Object(c["t"])(),Object(c["e"])("div",null,[l,Object(c["f"])("div",u,[Object(c["f"])("div",o,[Object(c["f"])("button",{type:"button",class:"add-button",onClick:t[0]||(t[0]=function(){return e.openAdd&&e.openAdd.apply(e,arguments)})},"เพิ่ม"),Object(c["f"])("table",null,[r,Object(c["f"])("tbody",null,[(Object(c["t"])(!0),Object(c["e"])(c["a"],null,Object(c["z"])(e.units,(function(t,n){return Object(c["t"])(),Object(c["e"])("tr",{key:n,class:Object(c["o"])({"text-primary":e.selectedIndex===n}),onClick:function(t){return e.selectedIndex=n}},[Object(c["f"])("td",null,Object(c["D"])(n+1),1),Object(c["f"])("td",null,Object(c["D"])(t.name),1)],10,i)})),128))])])]),Object(c["f"])("div",b,[Object(c["f"])("div",d,[Object(c["f"])("h1",{class:Object(c["o"])(["col-1 arrow",{disabled:e.prevDisabled}]),onClick:t[1]||(t[1]=function(){return e.prev&&e.prev.apply(e,arguments)})},"<",2),Object(c["f"])("div",s,[f,j,Object(c["h"])(" "+Object(c["D"])(e.selectedUnit.name)+" ",1),Object(c["f"])("div",O,[Object(c["f"])("button",{disabled:!e.selectedIndex&&0!==e.selectedIndex,onClick:t[2]||(t[2]=function(){return e.openEdit&&e.openEdit.apply(e,arguments)})},"แก้ไข",8,v),Object(c["f"])("button",{disabled:!e.selectedIndex&&0!==e.selectedIndex,onClick:t[3]||(t[3]=function(){return e.onDelete&&e.onDelete.apply(e,arguments)})},"ลบ",8,p)])]),Object(c["f"])("h1",{class:Object(c["o"])(["col-1 arrow",{disabled:e.nextDisabled}]),onClick:t[4]||(t[4]=function(){return e.next&&e.next.apply(e,arguments)})},">",2)])])]),Object(c["i"])(y,{shown:e.modalState,"onUpdate:shown":t[6]||(t[6]=function(t){return e.modalState=t}),heading:e.modalHeading,onSave:e.onSubmit},{body:Object(c["I"])((function(){return[h,m,Object(c["J"])(Object(c["f"])("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=function(t){return e.formData.name=t}),autocomplete:"off"},null,512),[[c["G"],e.formData.name]])]})),_:1},8,["shown","heading","onSave"])])}var x=n("c7eb"),y=n("1da1"),k=n("5530"),D=n("714b"),U=Object(c["j"])({components:{Modal:D["a"]},setup:function(){var e=Object(c["m"])("datastore"),t=Object(c["y"])([]);e.unit.getAllUnits().then((function(e){t.value=e}));var n=Object(c["y"])(),a=Object(c["b"])((function(){return n.value||0===n.value?t.value[n.value]:{name:"-"}})),l=Object(c["y"])({name:""}),u=Object(c["y"])(!1),o=Object(c["y"])("");function r(){l.value={name:""},o.value="เพิ่มหน่วยนับ",u.value=!0}function i(){l.value=Object(k["a"])({},t.value[n.value]),o.value="แก้ไขหน่วยนับ",u.value=!0}function b(){null===e||void 0===e||e.unit.editUnit(l.value).then(Object(y["a"])(Object(x["a"])().mark((function n(){return Object(x["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.unit.getAllUnits();case 2:t.value=n.sent,u.value=!1;case 4:case"end":return n.stop()}}),n)})))).catch((function(e){return alert(e)}))}function d(c){null===e||void 0===e||e.unit.deleteUnit(t.value[n.value].id).then(Object(y["a"])(Object(x["a"])().mark((function n(){return Object(x["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.unit.getAllUnits();case 2:return n.abrupt("return",t.value=n.sent);case 3:case"end":return n.stop()}}),n)})))).catch((function(e){return alert(e)}))}var s=Object(c["b"])((function(){return!n.value&&0!==n.value||0===n.value}));function f(){s.value||n.value--}var j=Object(c["b"])((function(){return!n.value&&0!==n.value||n.value===t.value.length-1}));function O(){j.value||n.value++}return{units:t,selectedIndex:n,selectedUnit:a,formData:l,modalState:u,modalHeading:o,openAdd:r,openEdit:i,onSubmit:b,onDelete:d,prevDisabled:s,prev:f,nextDisabled:j,next:O}}}),I=(n("4dd0"),n("6b0d")),g=n.n(I);const C=g()(U,[["render",w],["__scopeId","data-v-29913c6a"]]);t["default"]=C}}]);
//# sourceMappingURL=chunk-6f6075d6.b61261e5.js.map
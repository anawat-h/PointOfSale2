(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-64dd744d"],{"3a98":function(e,t,n){"use strict";n("8538")},"711b":function(e,t,n){"use strict";var c=n("7a23"),l=["value"];function u(e,t,n,u,a,o){return Object(c["J"])((Object(c["t"])(),Object(c["e"])("select",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.selectedValue=t})},[(Object(c["t"])(!0),Object(c["e"])(c["a"],null,Object(c["z"])(e.options,(function(e,t){return Object(c["t"])(),Object(c["e"])("option",{key:t,value:e.value},Object(c["D"])(e.text),9,l)})),128))],512)),[[c["F"],e.selectedValue]])}var a=Object(c["j"])({props:{modelValue:{default:void 0},options:{type:Array,default:function(){return[]}}},setup:function(e,t){var n=t.emit,l=Object(c["b"])({get:function(){return e.modelValue},set:function(e){n("update:modelValue",e)}});return{selectedValue:l}}}),o=n("6b0d"),r=n.n(o);const i=r()(a,[["render",u]]);t["a"]=i},8538:function(e,t,n){},d176:function(e,t,n){"use strict";n("b0c0");var c=n("7a23"),l=Object(c["f"])("h3",null,"Item detail",-1),u=Object(c["f"])("b",null,"รหัสสินค้า",-1),a=Object(c["f"])("br",null,null,-1),o=Object(c["f"])("br",null,null,-1),r=Object(c["f"])("br",null,null,-1),i=Object(c["f"])("b",null,"ชื่อสินค้า",-1),b=Object(c["f"])("br",null,null,-1),d=Object(c["f"])("br",null,null,-1),f=Object(c["f"])("br",null,null,-1),j=Object(c["f"])("b",null,"ราคา",-1),O=Object(c["f"])("br",null,null,-1);function s(e,t,n,s,v,m){return Object(c["t"])(),Object(c["e"])("div",null,[l,u,a,Object(c["h"])(" "+Object(c["D"])(e.item.code),1),o,r,i,b,Object(c["h"])(" "+Object(c["D"])(e.item.name),1),d,f,j,O,Object(c["h"])(" "+Object(c["D"])(e.item.price),1)])}var v=Object(c["j"])({props:{item:{type:Object,default:function(){}}}}),m=n("6b0d"),p=n.n(m);const D=p()(v,[["render",s]]);t["a"]=D},f0df:function(e,t,n){"use strict";n.r(t);n("b0c0");var c=n("7a23"),l=function(e){return Object(c["w"])("data-v-b07d400c"),e=e(),Object(c["u"])(),e},u=l((function(){return Object(c["f"])("h2",null,"ตั้งค่าสินค้า",-1)})),a={class:"row"},o={class:"col"},r=l((function(){return Object(c["f"])("thead",null,[Object(c["f"])("tr",null,[Object(c["f"])("th",{width:"5%"},"No."),Object(c["f"])("th",{width:"15%"},"รหัสสินค้า"),Object(c["f"])("th",null,"ชื่อสินค้า")])],-1)})),i=["onClick"],b={class:"col"},d={class:"row"},f={class:"card col-10"},j={class:"d-flex"},O=["disabled"],s=["disabled"],v={class:"row"},m={class:"col-md-6"},p=l((function(){return Object(c["f"])("label",null,"รหัสสินค้า",-1)})),D=l((function(){return Object(c["f"])("br",null,null,-1)})),h=["value"],y={class:"col-md-6"},w=l((function(){return Object(c["f"])("label",null,"ชื่อสินค้า",-1)})),I=l((function(){return Object(c["f"])("br",null,null,-1)})),x={class:"row"},k={class:"col-md-6"},V=l((function(){return Object(c["f"])("label",null,"ราคา",-1)})),g=l((function(){return Object(c["f"])("br",null,null,-1)})),A={class:"col-md-6"},C=l((function(){return Object(c["f"])("label",null,"หน่วย",-1)})),S=l((function(){return Object(c["f"])("br",null,null,-1)}));function U(e,t,n,l,U,J){var B=Object(c["B"])("ItemDetail"),E=Object(c["B"])("Dropdown"),G=Object(c["B"])("Modal");return Object(c["t"])(),Object(c["e"])("div",null,[u,Object(c["f"])("div",a,[Object(c["f"])("div",o,[Object(c["f"])("button",{type:"button",class:"add-button",onClick:t[0]||(t[0]=function(){return e.openAdd&&e.openAdd.apply(e,arguments)})},"เพิ่ม"),Object(c["f"])("table",null,[r,Object(c["f"])("tbody",null,[(Object(c["t"])(!0),Object(c["e"])(c["a"],null,Object(c["z"])(e.itemTableData,(function(t,n){return Object(c["t"])(),Object(c["e"])("tr",{key:n,class:Object(c["o"])({"text-primary":e.selectedIndex===n}),onClick:function(t){return e.selectedIndex=n}},[Object(c["f"])("td",null,Object(c["D"])(n+1),1),Object(c["f"])("td",null,Object(c["D"])(t.code),1),Object(c["f"])("td",null,Object(c["D"])(t.name),1)],10,i)})),128))])])]),Object(c["f"])("div",b,[Object(c["f"])("div",d,[Object(c["f"])("h1",{class:Object(c["o"])(["col-1 arrow",{disabled:e.prevDisabled}]),onClick:t[1]||(t[1]=function(){return e.prev&&e.prev.apply(e,arguments)})},"<",2),Object(c["f"])("div",f,[Object(c["i"])(B,{item:e.selectedItem},null,8,["item"]),Object(c["f"])("div",j,[Object(c["f"])("button",{disabled:!e.selectedIndex&&0!==e.selectedIndex,onClick:t[2]||(t[2]=function(){return e.openEdit&&e.openEdit.apply(e,arguments)})},"แก้ไข",8,O),Object(c["f"])("button",{disabled:!e.selectedIndex&&0!==e.selectedIndex,onClick:t[3]||(t[3]=function(){return e.onDelete&&e.onDelete.apply(e,arguments)})},"ลบ",8,s)])]),Object(c["f"])("h1",{class:Object(c["o"])(["col-1 arrow",{disabled:e.nextDisabled}]),onClick:t[4]||(t[4]=function(){return e.next&&e.next.apply(e,arguments)})},">",2)])])]),Object(c["i"])(G,{shown:e.modalState,"onUpdate:shown":t[9]||(t[9]=function(t){return e.modalState=t}),heading:e.modalHeading,onSave:e.onSubmit},{body:Object(c["I"])((function(){return[Object(c["f"])("div",v,[Object(c["f"])("div",m,[p,D,e.formData.id?(Object(c["t"])(),Object(c["e"])("input",{key:0,disabled:"",value:e.formData.code},null,8,h)):Object(c["J"])((Object(c["t"])(),Object(c["e"])("input",{key:1,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.formData.code=t})},null,512)),[[c["G"],e.formData.code]])]),Object(c["f"])("div",y,[w,I,Object(c["J"])(Object(c["f"])("input",{"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.formData.name=t}),autocomplete:"off"},null,512),[[c["G"],e.formData.name]])])]),Object(c["f"])("div",x,[Object(c["f"])("div",k,[V,g,Object(c["J"])(Object(c["f"])("input",{type:"number","onUpdate:modelValue":t[7]||(t[7]=function(t){return e.formData.price=t})},null,512),[[c["G"],e.formData.price]])]),Object(c["f"])("div",A,[C,S,Object(c["i"])(E,{modelValue:e.formData.unitID,"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.formData.unitID=t}),options:e.unitOptions},null,8,["modelValue","options"])])])]})),_:1},8,["shown","heading","onSave"])])}var J=n("c7eb"),B=n("1da1"),E=n("5530"),G=(n("d81d"),n("7db0"),n("d3b7"),n("714b")),_=n("711b"),z=n("d176"),H=Object(c["j"])({components:{Modal:G["a"],Dropdown:_["a"],ItemDetail:z["a"]},setup:function(){var e=Object(c["m"])("datastore"),t=Object(c["y"])([]);e.unit.getAllUnits().then((function(e){t.value=e}));var n=Object(c["y"])([]);e.item.getAllItems().then((function(e){n.value=e}));var l=Object(c["b"])((function(){return t.value.map((function(e){return{value:e.id,text:e.name}}))})),u=Object(c["b"])((function(){return n.value.map((function(e){var n;return{code:e.code,name:e.name,unitName:null===(n=t.value.find((function(t){return t.id===e.unitID})))||void 0===n?void 0:n.name,price:e.price}}))})),a=Object(c["y"])(),o=Object(c["b"])((function(){return a.value||0===a.value?n.value[a.value]:{code:"-",name:"-",price:0}})),r=Object(c["y"])({code:"",name:"",unitID:void 0,price:0}),i=Object(c["y"])(!1),b=Object(c["y"])("");function d(){r.value={code:"",name:"",unitID:void 0,price:0},b.value="เพิ่มสินค้า",i.value=!0}function f(){r.value=Object(E["a"])({},n.value[a.value]),b.value="แก้ไขสินค้า",i.value=!0}function j(){var t=r.value;!t.id||t.code&&0!==t.code.length?t.name&&0!==t.name.length?void 0!==t.price&&null!==t.price?t.unitID?null===e||void 0===e||e.item.editItem(r.value).then(Object(B["a"])(Object(J["a"])().mark((function t(){return Object(J["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.item.getAllItems();case 2:n.value=t.sent,i.value=!1;case 4:case"end":return t.stop()}}),t)})))).catch((function(e){return alert(e)})):alert("unitID is empty"):alert("price is empty"):alert("name is empty"):alert("code is empty")}function O(){null===e||void 0===e||e.item.deleteItem(n.value[a.value].id).then(Object(B["a"])(Object(J["a"])().mark((function t(){return Object(J["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.item.getAllItems();case 2:return t.abrupt("return",n.value=t.sent);case 3:case"end":return t.stop()}}),t)})))).catch((function(e){return alert(e)}))}var s=Object(c["b"])((function(){return!a.value&&0!==a.value||0===a.value}));function v(){s.value||a.value--}var m=Object(c["b"])((function(){return!a.value&&0!==a.value||a.value===n.value.length-1}));function p(){m.value||a.value++}return{unitOptions:l,itemTableData:u,selectedIndex:a,selectedItem:o,formData:r,modalState:i,modalHeading:b,openAdd:d,openEdit:f,onSubmit:j,onDelete:O,prevDisabled:s,prev:v,nextDisabled:m,next:p}}}),M=(n("3a98"),n("6b0d")),N=n.n(M);const T=N()(H,[["render",U],["__scopeId","data-v-b07d400c"]]);t["default"]=T}}]);
//# sourceMappingURL=chunk-64dd744d.deadf52d.js.map
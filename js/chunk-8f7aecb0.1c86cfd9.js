(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8f7aecb0"],{"3c3c":function(t,e,n){"use strict";var c=n("7a23"),u=function(t){return Object(c["w"])("data-v-ce33e276"),t=t(),Object(c["u"])(),t},r={class:"row"},a={class:"col-md-3"},l=u((function(){return Object(c["f"])("label",null,"เลขที่เอกสาร",-1)})),i=u((function(){return Object(c["f"])("br",null,null,-1)})),o=["value"],b={class:"row"},f={class:"col-md-3"},d=u((function(){return Object(c["f"])("label",null,"วันที่",-1)})),O=u((function(){return Object(c["f"])("br",null,null,-1)})),j=["value"],s={class:"table-detail"},p=u((function(){return Object(c["f"])("thead",null,[Object(c["f"])("tr",null,[Object(c["f"])("th",{width:"5%"},"No."),Object(c["f"])("th",{width:"15%"},"รหัสสินค้า"),Object(c["f"])("th",{width:"15%"},"ชื่อสินค้า"),Object(c["f"])("th",{width:"5%"},"หน่วย"),Object(c["f"])("th",{width:"5%"},"จำนวน"),Object(c["f"])("th",{width:"15%"},"ราคา"),Object(c["f"])("th",{width:"10%"},"ส่วนลด (%)"),Object(c["f"])("th",{width:"10%"},"ส่วนลด (บาท)"),Object(c["f"])("th",{width:"20%"},"รวมเงิน")])],-1)})),v={id:"tbody"},m={class:"summary"},h={class:"field"},y=u((function(){return Object(c["f"])("span",null,"ยอดรวมสินค้าก่อนส่วนลด",-1)})),N=["value"],w={class:"field"},D=u((function(){return Object(c["f"])("span",null,"ยอดรวมส่วนลดสินค้า",-1)})),I=["value"],g={class:"field"},S=u((function(){return Object(c["f"])("span",null,"Subtotal",-1)})),T=["value"],x={class:"field"},E=u((function(){return Object(c["f"])("span",null,"ส่วนลดการค้า",-1)})),M=["value"],_={class:"field"},k=u((function(){return Object(c["f"])("span",null,"Grand total",-1)})),q=["value"];function A(t,e,n,u,A,V){var C=Object(c["B"])("Modal");return Object(c["t"])(),Object(c["d"])(C,{shown:t.modalState,"onUpdate:shown":e[1]||(e[1]=function(e){return t.modalState=e}),heading:"ใบเสร็จรับเงิน",size:"xl"},Object(c["g"])({footer:Object(c["I"])((function(){return[Object(c["f"])("button",{type:"button",class:"btn btn-secondary",onClick:e[0]||(e[0]=function(e){return t.modalState=!1})},"Close")]})),_:2},[t.modalState?{name:"body",fn:Object(c["I"])((function(){return[Object(c["f"])("div",r,[Object(c["f"])("div",a,[l,i,Object(c["f"])("input",{type:"text",value:t.docNo,disabled:""},null,8,o)])]),Object(c["f"])("div",b,[Object(c["f"])("div",f,[d,O,Object(c["f"])("input",{type:"text",value:t.date,disabled:""},null,8,j)])]),Object(c["f"])("table",s,[p,Object(c["f"])("tbody",v,[(Object(c["t"])(!0),Object(c["e"])(c["a"],null,Object(c["z"])(t.detailItems,(function(t,e){return Object(c["t"])(),Object(c["e"])("tr",{key:e},[Object(c["f"])("td",null,Object(c["D"])(e+1),1),Object(c["f"])("td",null,Object(c["D"])(t.itemCode),1),Object(c["f"])("td",null,Object(c["D"])(t.itemName),1),Object(c["f"])("td",null,Object(c["D"])(t.itemUnitName),1),Object(c["f"])("td",null,Object(c["D"])(t.quantity),1),Object(c["f"])("td",null,Object(c["D"])(t.itemPrice),1),Object(c["f"])("td",null,Object(c["D"])(t.discountPercentage),1),Object(c["f"])("td",null,Object(c["D"])(t.discountAmount),1),Object(c["f"])("td",null,Object(c["D"])(t.amount),1)])})),128))])]),Object(c["f"])("div",m,[Object(c["f"])("div",h,[y,Object(c["f"])("input",{disabled:"",value:t.subtotalBeforeDiscount},null,8,N)]),Object(c["f"])("div",w,[D,Object(c["f"])("input",{disabled:"",value:t.totalItemDiscount},null,8,I)]),Object(c["f"])("div",g,[S,Object(c["f"])("input",{disabled:"",value:t.subtotal},null,8,T)]),Object(c["f"])("div",x,[E,Object(c["f"])("input",{disabled:"",value:t.tradeDiscount},null,8,M)]),Object(c["f"])("div",_,[k,Object(c["f"])("input",{disabled:"",value:t.grandTotal},null,8,q)])])]}))}:void 0]),1032,["shown"])}n("a9e3"),n("d81d");var V=n("714b"),C=Object(c["j"])({props:{requestNum:{type:Number,default:0},receipt:{type:Object,required:!0}},components:{Modal:V["a"]},setup:function(t){var e=Object(c["y"])(!1);Object(c["H"])((function(){return t.requestNum}),(function(t,n){t>n&&(e.value=!0)}));var n=Object(c["b"])((function(){return t.receipt.docNo})),u=Object(c["b"])((function(){return t.receipt.date.toFormat("dd/MM/yyyy")})),r=Object(c["b"])((function(){var e;return null!==(e=t.receipt.details.map((function(t){return{itemID:t.itemID,itemCode:t.itemCode,itemName:t.itemName,itemUnitName:t.itemUnitName,itemPrice:t.itemPrice,quantity:t.quantity,discountPercentage:t.discountPercentage,discountAmount:t.discountAmount,amount:t.amount}})))&&void 0!==e?e:[]})),a=Object(c["b"])((function(){return t.receipt.subtotalBeforeDiscount})),l=Object(c["b"])((function(){return t.receipt.totalItemDiscount})),i=Object(c["b"])((function(){return t.receipt.subtotal})),o=Object(c["b"])((function(){return t.receipt.tradeDiscount})),b=Object(c["b"])((function(){return t.receipt.grandTotal}));return{modalState:e,docNo:n,date:u,detailItems:r,subtotalBeforeDiscount:a,totalItemDiscount:l,subtotal:i,tradeDiscount:o,grandTotal:b}}}),P=(n("ae56"),n("6b0d")),F=n.n(P);const R=F()(C,[["render",A],["__scopeId","data-v-ce33e276"]]);e["a"]=R},"408a":function(t,e,n){var c=n("e330");t.exports=c(1..valueOf)},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var c=n("e330"),u=n("1d80"),r=n("577e"),a=n("5899"),l=c("".replace),i="["+a+"]",o=RegExp("^"+i+i+"*"),b=RegExp(i+i+"*$"),f=function(t){return function(e){var n=r(u(e));return 1&t&&(n=l(n,o,"")),2&t&&(n=l(n,b,"")),n}};t.exports={start:f(1),end:f(2),trim:f(3)}},"86de":function(t,e,n){},a9e3:function(t,e,n){"use strict";var c=n("83ab"),u=n("da84"),r=n("e330"),a=n("94ca"),l=n("cb2d"),i=n("1a2d"),o=n("7156"),b=n("3a9b"),f=n("d9b5"),d=n("c04e"),O=n("d039"),j=n("241c").f,s=n("06cf").f,p=n("9bf2").f,v=n("408a"),m=n("58a8").trim,h="Number",y=u[h],N=y.prototype,w=u.TypeError,D=r("".slice),I=r("".charCodeAt),g=function(t){var e=d(t,"number");return"bigint"==typeof e?e:S(e)},S=function(t){var e,n,c,u,r,a,l,i,o=d(t,"number");if(f(o))throw w("Cannot convert a Symbol value to a number");if("string"==typeof o&&o.length>2)if(o=m(o),e=I(o,0),43===e||45===e){if(n=I(o,2),88===n||120===n)return NaN}else if(48===e){switch(I(o,1)){case 66:case 98:c=2,u=49;break;case 79:case 111:c=8,u=55;break;default:return+o}for(r=D(o,2),a=r.length,l=0;l<a;l++)if(i=I(r,l),i<48||i>u)return NaN;return parseInt(r,c)}return+o};if(a(h,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var T,x=function(t){var e=arguments.length<1?0:y(g(t)),n=this;return b(N,n)&&O((function(){v(n)}))?o(Object(e),n,x):e},E=c?j(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),M=0;E.length>M;M++)i(y,T=E[M])&&!i(x,T)&&p(x,T,s(y,T));x.prototype=N,N.constructor=x,l(u,h,x,{constructor:!0})}},ae56:function(t,e,n){"use strict";n("86de")},bdff:function(t,e,n){"use strict";n("fff4")},d278:function(t,e,n){"use strict";n.r(e);var c=n("7a23"),u=function(t){return Object(c["w"])("data-v-64c625a4"),t=t(),Object(c["u"])(),t},r=u((function(){return Object(c["f"])("h2",null,"ดูใบเสร็จรับเงิน",-1)})),a={class:"d-flex"},l=u((function(){return Object(c["f"])("label",null,"วันที่เริ่มต้น : ",-1)})),i=u((function(){return Object(c["f"])("label",null,"วันที่สิ้นสุด : ",-1)})),o=u((function(){return Object(c["f"])("br",null,null,-1)})),b=u((function(){return Object(c["f"])("br",null,null,-1)})),f=u((function(){return Object(c["f"])("thead",null,[Object(c["f"])("tr",null,[Object(c["f"])("th",{width:"10%"},"No."),Object(c["f"])("th",null,"เลขที่เอกสาร"),Object(c["f"])("th",null,"วันที่"),Object(c["f"])("th",null,"Grand Total"),Object(c["f"])("th",{class:"text-center",width:"20%"},"ดำเนินการ")])],-1)})),d={class:"text-center"},O=["onClick"];function j(t,e,n,u,j,s){var p=Object(c["B"])("ModalReceiptPreview");return Object(c["t"])(),Object(c["e"])("div",null,[r,Object(c["f"])("div",a,[Object(c["f"])("div",null,[l,Object(c["J"])(Object(c["f"])("input",{type:"date","onUpdate:modelValue":e[0]||(e[0]=function(e){return t.startDate=e})},null,512),[[c["G"],t.startDate]])]),Object(c["f"])("div",null,[i,Object(c["J"])(Object(c["f"])("input",{type:"date","onUpdate:modelValue":e[1]||(e[1]=function(e){return t.endDate=e})},null,512),[[c["G"],t.endDate]])]),Object(c["f"])("div",null,[Object(c["f"])("button",{onClick:e[2]||(e[2]=function(e){return t.onSearch()})},"ค้นหา")])]),o,b,Object(c["f"])("table",null,[f,Object(c["f"])("tbody",null,[(Object(c["t"])(!0),Object(c["e"])(c["a"],null,Object(c["z"])(t.receiptsTableData,(function(e,n){return Object(c["t"])(),Object(c["e"])("tr",{key:n},[Object(c["f"])("td",null,Object(c["D"])(n+1),1),Object(c["f"])("td",null,Object(c["D"])(e.docNo),1),Object(c["f"])("td",null,Object(c["D"])(e.date),1),Object(c["f"])("td",null,Object(c["D"])(e.grandTotal),1),Object(c["f"])("td",d,[Object(c["f"])("button",{onClick:function(e){return t.openModalView(n)}},"ดูรายละเอียด",8,O)])])})),128))])]),Object(c["i"])(p,{"request-num":t.modalView.requestNum,receipt:t.modalView.receipt},null,8,["request-num","receipt"])])}var s=n("c7eb"),p=n("1da1"),v=n("5530"),m=(n("d81d"),n("3c3c")),h=n("1315"),y=Object(c["j"])({components:{ModalReceiptPreview:m["a"]},setup:function(){var t=Object(c["m"])("datastore"),e=Object(c["y"])([]);t.receipt.getReceipts(void 0,void 0).then((function(t){e.value=t}));var n=Object(c["b"])((function(){return e.value.map((function(t){return Object(v["a"])(Object(v["a"])({},t),{},{date:t.date.toFormat("dd/MM/yyyy")})}))})),u=Object(c["y"])(),r=Object(c["y"])();function a(){return l.apply(this,arguments)}function l(){return l=Object(p["a"])(Object(s["a"])().mark((function n(){return Object(s["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.receipt.getReceipts(u.value?h["DateTime"].fromISO(u.value):void 0,r.value?h["DateTime"].fromISO(r.value):void 0);case 2:e.value=n.sent;case 3:case"end":return n.stop()}}),n)}))),l.apply(this,arguments)}var i=Object(c["x"])({requestNum:0,receipt:void 0});function o(t){i.receipt=e.value[t],i.requestNum++}return{receiptsTableData:n,startDate:u,endDate:r,onSearch:a,modalView:i,openModalView:o}}}),N=(n("bdff"),n("6b0d")),w=n.n(N);const D=w()(y,[["render",j],["__scopeId","data-v-64c625a4"]]);e["default"]=D},fff4:function(t,e,n){}}]);
//# sourceMappingURL=chunk-8f7aecb0.1c86cfd9.js.map